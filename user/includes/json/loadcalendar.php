<?phpinclude('config.php');$suc ='1';$er='0';$err='';$id ='';$json =[];$rows = [];$calendar='';if(isset($_COOKIE['iduser'])){    $iduser = $_COOKIE['iduser'];}if(isset($_POST["calendar"])) {    function jourfr($jour){        $n = '';        switch ($jour) {case 'Mon':$n='Lundi';break;            case 'Tue':$n ='Mardi';break;            case 'Wed':$n='Mercredi';break;            case 'Thu':$n ='Jeudi';break;            case 'Fri':$n='Vendredi';break;            case 'Sat':$n ='Samedi';break;            case 'Sun':$n ='Dimanche';break;            default: $n='monday';}        return $n;    }    function journb($jour){        $n = '';        switch ($jour) {case 'Mon':$n=1;break;            case 'Tue':$n =2;break;            case 'Wed':$n=3;break;            case 'Thu':$n =4;break;            case 'Fri':$n=5;break;            case 'Sat':$n= 6;break;            case 'Sun':$n =7;break;            default: $n=1;}        return $n;    }    function moisfr($mois){        $n = '';        switch ($mois) {            case 'Jan':$n='Janvier';break;            case 'Feb':$n='Février';break;            case 'Mar':$n='Mars';break;            case 'Apr':$n ='Avril';break;            case 'May':$n='Mai';break;            case 'Jun':$n ='Juin';break;            case 'Jul':$n='Juillet';break;            case 'Aug':$n ='Aout';break;            case 'Sep':$n ='septembre';break;            case 'Oct':$n ='Octobre';break;            case 'Nov':$n ='Novembre';break;            case 'Dec':$n ='Décembre';break;            default: $n=$mois;}        return $n;    }    $obj = json_decode($_POST["calendar"]);    $date1 = trim(strip_tags($obj->date1));    $op = trim(strip_tags($obj->operator));    $dat1 = date('Y-m-d', strtotime($date1));    $t = 1;    $date= date('m/d/Y',strtotime("$op 1 months",strtotime($dat1)));$year= date('Y');$max = intval(date('t', strtotime($date)));    $month= date('m', strtotime($date));  $month2= date('M', strtotime($date));  $day= date('D', strtotime($date));    $ladate1 = date('Y-m-d', strtotime($date));    $year1 = date('Y', strtotime($ladate1));    $firsday = $month.'/01/'.$year;    $ladate = $year.'-'.$month.'-01';    $firstdayname =date('D', strtotime($firsday));    $nbjour =journb($firstdayname);    $start =journb($firstdayname);    $j = 0;    $calendar .= ' <tr id="t1">';    $k=0;for($i=1;$i<=$max;$i++){ if($nbjour > $i ){ $k = $k+1; } }    for($i=1;$i<=$max+$k;$i++){        if($nbjour > $i ){            $j = $j+1;            $calendar .= '<td id="vide" ><span> </span></td>';        }        else{            if($start == 7){                $ddd = ($i-$j) < 10 ? '0' . ($i-$j)  : ($i-$j) ;                $t++;                $calendar .=  '<td class="" ><span  class="jour" data-date="'.$year.'-'.$month.'-'.$ddd.'" id="j'.$ddd.'">'.($i-$j).'</span></td></tr><tr id="t'.$t.'">';                $start=1;            }            else{                $ddd = ($i-$j) < 10 ? '0' . ($i-$j)  : ($i-$j) ;                $calendar .=  '<td class="" ><span  class="jour" data-date="'.$year.'-'.$month.'-'.$ddd.'" id="j'.$ddd.'">'.($i-$j).'</span></td>';                $start++;            }        }    }    if($start == 7){        $calendar .=  '</tr>';    }//$json  = ['id' => '7','title'=> 'Math',  'start'=> '2020-02-03T13:00:00', 'end'=> '2020-02-03T14:00:00','constraint' => 'businessHours','allDay' => false,'color'=> '#00ff00'];    echo json_encode(array('date1' =>$ladate1 ,'month1' =>moisfr($month2) ,'year1' =>$year1 , 'suc' => (string)$suc, 'err' => (string)$err, 'er' => (string)$er, 'dta' => $json, 'dta2' => $calendar));}